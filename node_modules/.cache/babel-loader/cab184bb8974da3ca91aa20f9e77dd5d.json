{"ast":null,"code":"import _slicedToArray from \"/Users/fdrennan/WebstormProjects/newStockAPI/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fdrennan/WebstormProjects/newStockAPI/src/DataTable.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useFetch } from \"./hooks\";\nimport { CSVLink } from \"react-csv\";\nimport { Collapse } from \"react-collapse\";\n\nfunction DataTable(props) {\n  var _useFetch = useFetch(props.baseUrl, {}),\n      message = _useFetch.message,\n      data = _useFetch.data;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      hider = _useState2[0],\n      setHider = _useState2[1];\n\n  var json2array = function json2array(json) {\n    console.log(\"Inside json2array\");\n    var result = [];\n    var keys = Object.keys(json);\n    keys.forEach(function (key) {\n      result.push(json[key]);\n    });\n    return result;\n  };\n\n  var jsonToCSV = function jsonToCSV(data) {\n    console.log(\"Inside jsonToCSV\");\n\n    if (data) {\n      console.log(\"Inside jsonToCSV:data\");\n      var returnedData = JSON.parse(data);\n      return json2array(returnedData);\n    }\n  };\n\n  var cleanData = function cleanData(data) {\n    console.log(\"Inside cleanData\");\n\n    if (data) {\n      console.log(\"Inside cleanData:if(data)\");\n      var parseData = JSON.parse(data);\n      var sortedData = parseData.sort(function (a, b) {\n        if (a.date < b.date) return 1;\n        if (b.date < a.date) return -1;\n        return 0;\n      });\n      var dataMap = sortedData.map(function (x, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          key: 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, x.symbol), React.createElement(\"td\", {\n          key: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, x.date), React.createElement(\"td\", {\n          key: 2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, x.open), React.createElement(\"td\", {\n          key: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, x.high), React.createElement(\"td\", {\n          key: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, x.low), React.createElement(\"td\", {\n          key: 5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, x.close), React.createElement(\"td\", {\n          key: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, x.volume), React.createElement(\"td\", {\n          key: 7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, x.adjusted));\n      });\n      return React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        key: \"tbody\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        key: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Symbol\"), React.createElement(\"td\", {\n        key: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Date\"), React.createElement(\"td\", {\n        key: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Open\"), React.createElement(\"td\", {\n        key: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"High\"), React.createElement(\"td\", {\n        key: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Low\"), React.createElement(\"td\", {\n        key: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Close\"), React.createElement(\"td\", {\n        key: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Volume\"), React.createElement(\"td\", {\n        key: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Adjusted\")), dataMap));\n    }\n  };\n\n  var parsedData = cleanData(data);\n\n  var hideTable = function hideTable() {\n    setHider(!hider);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, hider ? React.createElement(\"button\", {\n    onClick: hideTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Hide Table\") : React.createElement(\"button\", {\n    onClick: hideTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Show Table\"), data ? React.createElement(CSVLink, {\n    data: jsonToCSV(data),\n    filename: \"stock-data.csv\",\n    target: \"data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Download Me\") : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"em\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, message)), React.createElement(Collapse, {\n    isOpened: hider,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, parsedData));\n}\n\nexport default DataTable;","map":{"version":3,"sources":["/Users/fdrennan/WebstormProjects/newStockAPI/src/DataTable.js"],"names":["React","useEffect","useState","useFetch","CSVLink","Collapse","DataTable","props","baseUrl","message","data","hider","setHider","json2array","json","console","log","result","keys","Object","forEach","key","push","jsonToCSV","returnedData","JSON","parse","cleanData","parseData","sortedData","sort","a","b","date","dataMap","map","x","index","symbol","open","high","low","close","volume","adjusted","parsedData","hideTable"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useFetch } from \"./hooks\";\nimport { CSVLink } from \"react-csv\";\nimport { Collapse } from \"react-collapse\";\n\nfunction DataTable(props) {\n  const { message, data } = useFetch(props.baseUrl, {});\n  const [hider, setHider] = useState(true);\n\n  const json2array = json => {\n    console.log(\"Inside json2array\");\n    let result = [];\n    let keys = Object.keys(json);\n    keys.forEach(function(key) {\n      result.push(json[key]);\n    });\n\n    return result;\n  };\n\n  const jsonToCSV = data => {\n    console.log(\"Inside jsonToCSV\");\n    if (data) {\n      console.log(\"Inside jsonToCSV:data\");\n      const returnedData = JSON.parse(data);\n      return json2array(returnedData);\n    }\n  };\n\n  const cleanData = data => {\n    console.log(\"Inside cleanData\");\n\n    if (data) {\n      console.log(\"Inside cleanData:if(data)\");\n      const parseData = JSON.parse(data);\n\n      const sortedData = parseData.sort(function(a, b) {\n        if (a.date < b.date) return 1;\n        if (b.date < a.date) return -1;\n        return 0;\n      });\n\n      const dataMap = sortedData.map((x, index) => {\n        return (\n          <tr key={index}>\n            <td key={0}>{x.symbol}</td>\n            <td key={1}>{x.date}</td>\n            <td key={2}>{x.open}</td>\n            <td key={3}>{x.high}</td>\n            <td key={4}>{x.low}</td>\n            <td key={5}>{x.close}</td>\n            <td key={6}>{x.volume}</td>\n            <td key={7}>{x.adjusted}</td>\n          </tr>\n        );\n      });\n\n      return (\n        <table>\n          <tbody>\n            <tr key={\"tbody\"}>\n              <td key={0}>Symbol</td>\n              <td key={1}>Date</td>\n              <td key={2}>Open</td>\n              <td key={3}>High</td>\n              <td key={4}>Low</td>\n              <td key={5}>Close</td>\n              <td key={6}>Volume</td>\n              <td key={7}>Adjusted</td>\n            </tr>\n            {dataMap}\n          </tbody>\n        </table>\n      );\n    }\n  };\n\n  const parsedData = cleanData(data);\n\n  const hideTable = () => {\n    setHider(!hider);\n  };\n\n  return (\n    <div>\n      {hider ? (\n        <button onClick={hideTable}>Hide Table</button>\n      ) : (\n        <button onClick={hideTable}>Show Table</button>\n      )}\n      {data ? (\n        <CSVLink\n          data={jsonToCSV(data)}\n          filename={\"stock-data.csv\"}\n          target=\"data\"\n        >\n          Download Me\n        </CSVLink>\n      ) : (\n        <p>\n          <em>{message}</em>\n        </p>\n      )}\n      <Collapse isOpened={hider}>{parsedData}</Collapse>\n    </div>\n  );\n}\n\nexport default DataTable;\n"]},"metadata":{},"sourceType":"module"}