(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),l=a.n(r),o=a(12),s=a(6),u=(a(31),a(25)),m=a(5),i=a(10),d=function(e,t){console.log("Inside useFetch"),console.log(e),console.log(t);var a=Object(n.useState)(t),c=Object(i.a)(a,2),r=c[0],l=c[1];return console.log("Result 1"),console.log(r),t&&(console.log("Inside useFetch:initialValue"),Object(n.useEffect)(function(){console.log("Inside useFetch:useEffect"),console.log(e),fetch(e).then(function(e){return e.json()}).then(function(e){return l(e)})},[e])),console.log("Result 2"),console.log(r),r},E=a(7),p=a(22),b=function(e){return c.a.createElement("div",null,e.data&&c.a.createElement(p.CSVLink,{data:function(e){if(console.log("Inside jsonToCSV"),e)return console.log("Inside jsonToCSV:data"),function(e){console.log("Inside json2array");var t=[];return Object.keys(e).forEach(function(a){t.push(e[a])}),t}(JSON.parse(e))}(e.data),filename:"stock-data.csv",target:"data"},c.a.createElement("h3",null,"Download")))};var g=function(e){var t=d(e.baseUrl,{}),a=t.message,r=t.data,l=Object(n.useState)(!1),o=Object(i.a)(l,2),s=o[0],u=o[1],m=function(t){if(console.log("Inside cleanData"),e.setApiMessage(a),t){console.log("Inside cleanData:if(data)");var n=JSON.parse(t).sort(function(e,t){return e.date<t.date?1:t.date<e.date?-1:0}).map(function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",{key:0},e.symbol),c.a.createElement("td",{key:1},e.date),c.a.createElement("td",{key:2},e.open),c.a.createElement("td",{key:3},e.high),c.a.createElement("td",{key:4},e.low),c.a.createElement("td",{key:5},e.close),c.a.createElement("td",{key:6},e.volume),c.a.createElement("td",{key:7},e.adjusted))});return c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{key:"tbody"},c.a.createElement("td",{key:0},"Symbol"),c.a.createElement("td",{key:1},"Date"),c.a.createElement("td",{key:2},"Open"),c.a.createElement("td",{key:3},"High"),c.a.createElement("td",{key:4},"Low"),c.a.createElement("td",{key:5},"Close"),c.a.createElement("td",{key:6},"Volume"),c.a.createElement("td",{key:7},"Adjusted")),n))}}(r),p=function(){u(!s)};return c.a.createElement("div",null,s?c.a.createElement("button",{className:"page-button",onClick:p},"Hide Table"):c.a.createElement("button",{className:"page-button",onClick:p},"Show Table"),c.a.createElement(E.Collapse,{isOpened:s},c.a.createElement("div",null,c.a.createElement(b,{data:r}),m)))};var y=function(e){var t=function(t){console.log("Inside handleKeyPress"),"Enter"===t.key&&e.searchQuery()};return c.a.createElement("div",{onSubmit:e.searchQuery,className:"form-display"},c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"query"},"Query"),c.a.createElement("input",{className:"input",value:e.userQuery,onChange:function(t){console.log("Inside updateUserQuery"),t.preventDefault(),e.setUserQuery(t.target.value)},onKeyPress:t,id:"query"})),c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"start-date"},"Start Date"),c.a.createElement("input",{type:"date",value:e.userStartDate,onChange:function(t){console.log("Inside handleStartDate"),e.setUserStartDate(t.target.value)},onKeyPress:t,id:"start-date"})),c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"end-date"},"End Date"),c.a.createElement("input",{type:"date",value:e.userEndDate,onChange:function(t){console.log("Inside handleStartDate"),e.setUserEndDate(t.target.value)},onKeyPress:t,id:"end-date"})),c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"ma-days"},"Moving Average Days"),c.a.createElement("input",{type:"numeric",value:e.maDays,onChange:function(t){t.preventDefault(),e.setMaDays(t.target.value)},onKeyPress:t,id:"ma-days"})),c.a.createElement("button",{onClick:e.searchQuery},"Search"))},f=function(e){return c.a.createElement("div",null,c.a.createElement("h1",null,"Old Searches"),e.priorSearches.map(function(e,t){return console.log(e),c.a.createElement("div",{key:t},c.a.createElement("p",null,e))}))},h=function(e){return c.a.createElement("div",null,c.a.createElement("img",{className:"gg-plot",src:e.baseUrlImage,alt:"Oops! Something went wrong."}))},v=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=function(e){l(!r)};return c.a.createElement("div",null,r?c.a.createElement("button",{className:"page-button",onClick:o},"Hide Image"):c.a.createElement("button",{className:"page-button",onClick:o},"Show Image"),c.a.createElement(E.Collapse,{isOpened:r},c.a.createElement(h,{baseUrlImage:e.baseUrlImage,baseUrl:e.baseUrl})))},k=8e3;var O=function(){var e=function(e,t,a,n,c,r){var l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];console.log("\n\n\n\nInside baseUrlCreator");var o=t.split(",").map(function(e){return e.trim()});return o=JSON.stringify(o),r?l?"http://127.0.0.1:".concat(e,"/get_stocks?stocks=").concat(o,"&startDate=").concat(a,"&endDate=").concat(n,"&ma_days=").concat(c):"http://drenr.com/api/get_stocks?stocks=".concat(o,"&startDate=").concat(a,"&endDate=").concat(n,"&ma_days=").concat(c):l?"http://127.0.0.1:".concat(e,"/get_stocks_data?stocks=").concat(o,"&startDate=").concat(a,"&endDate=").concat(n):"http://drenr.com/api/get_stocks_data?stocks=".concat(o,"&startDate=").concat(a,"&endDate=").concat(n)},t=Object(n.useState)("AAPL"),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)("2019-01-01"),s=Object(m.a)(o,2),i=s[0],d=s[1],p=Object(n.useState)("2020-01-01"),b=Object(m.a)(p,2),h=b[0],O=b[1],S=Object(n.useState)("5"),D=Object(m.a)(S,2),j=D[0],I=D[1],N=Object(n.useState)(void 0),U=Object(m.a)(N,2),C=U[0],w=U[1],Q=e(k,r,i,h,j,!1),A=e(k,r,i,h,j,!0),_=Object(n.useState)(Q),P=Object(m.a)(_,2),F=P[0],T=P[1],M=Object(n.useState)(A),J=Object(m.a)(M,2),K=J[0],R=J[1],V=Object(n.useState)([]),H=Object(m.a)(V,2),L=H[0],q=H[1];return c.a.createElement("div",{className:"App"},c.a.createElement("div",null,C),c.a.createElement(y,{searchQuery:function(){console.log("Inside searchQuery");var t=e(k,r,i,h,j,!1),a=e(k,r,i,h,j,!0);T(t),R(a),q([].concat(Object(u.a)(L),[t]))},userQuery:r,maDays:j,setMaDays:I,userStartDate:i,setUserStartDate:d,setUserEndDate:O,userEndDate:h,setUserQuery:l}),c.a.createElement("br",null),c.a.createElement(v,{baseUrlImage:K,baseUrl:F}),c.a.createElement(E.Collapse,{isOpened:!0},c.a.createElement(g,{apiMessage:C,setApiMessage:w,baseUrl:F,setBaseUrl:T})),c.a.createElement(f,{priorSearches:L}))},S=function(e){return c.a.createElement("nav",{className:"navbar"},c.a.createElement("a",{href:"https://github.com/fdrennan/stocks",target:"_blank"},c.a.createElement("h1",{className:"navbar-link"},"App REPO")),c.a.createElement("a",{href:"https://github.com/fdrennan/stockAPI",target:"_blank"},c.a.createElement("h1",{className:"navbar-link"},"R REPO")),c.a.createElement("h1",null,e.navTitle))},D=c.a.createElement(o.a,null,c.a.createElement(S,{navTitle:"Stock Application"}),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",component:O,exact:!0}),c.a.createElement(s.a,{path:"/image",component:function(){return c.a.createElement("div",null,"Hello")}}),c.a.createElement(s.a,{component:function(){return c.a.createElement("div",null,"404 NOT FOUND")}})));l.a.render(D,document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.db936bcc.chunk.js.map